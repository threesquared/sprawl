{"version":3,"sources":["lib/distance.ts","lib/geojson.ts","components/LocationMarker.tsx","components/App.tsx","lib/google.ts","lib/directions.ts","calculators/CrawlCalculator.ts","components/Nav.tsx","components/PubInfo.tsx","components/CrawlInfo.tsx","components/PubMarker.tsx","img/beer.png","img/start.png","img/finish.png","components/PathLine.tsx","serviceWorker.ts","index.tsx"],"names":["metersToMiles","distance","milesToMeters","LatLng","lat","lng","this","getLineString","coords","start","end","path","push","forEach","coord","lineString","fitViewportToBounds","viewport","padding","bbox","minLng","minLat","maxLng","maxLat","mercatorViewport","WebMercatorViewport","fitBounds","longitude","latitude","zoom","transitionInterpolator","FlyToInterpolator","speed","transitionDuration","LocationMarker","type","location","setLocationFunction","offsetLeft","offsetTop","src","finish","alt","onClick","undefined","App","useState","setStart","setEnd","pubs","setPubs","setPath","selectedPub","setSelectedPub","pubLimit","setPubLimit","distanceLimit","setDistanceLimit","setViewport","geoLocate","navigator","geolocation","getCurrentPosition","position","useEffect","window","hash","JSON","parse","Buffer","substring","toString","savedStart","savedEnd","e","alert","findPubs","then","calculator","CrawlCalculator","limit","length","crawlPubs","getCrawlPubs","pubCoords","map","pub","getDirections","res","polyline","toGeoJSON","geometry","coordinates","catch","err","console","error","className","href","data-ribbon","title","width","height","mapStyle","mapboxApiAccessToken","process","onViewportChange","event","leftButton","target","nodeName","lngLat","onContextMenu","preventDefault","index","key","tipSize","anchor","closeOnClick","onClose","loader","Loader","apiKey","version","libraries","a","load","google","places","maps","service","PlacesService","document","createElement","request","query","openNow","radius","Promise","resolve","reject","textSearch","results","status","PlacesServiceStatus","OK","result","id","place_id","name","address","formatted_address","directionsService","directions","accessToken","profile","waypoints","coordinate","send","response","body","routes","crawl","budgetShortestPathFirstMethod","nearestPubNextMethod","nextPub","shiftClosestPub","i","computeDistanceBetween","startPub","endPub","getClosestPub","testPubs","getClosestPubs","_","remove","sort","b","Number","sortPubsByDistanceTo","shift","slice","Nav","placeholder","onChange","parseInt","value","PubInfo","rel","CrawlInfo","dest","join","saveObject","toFixed","saveData","stringify","PubMarker","pin","module","exports","PathLine","data","source","layout","paint","Boolean","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.77bda2a2.chunk.js","sourcesContent":["/**\n * Convert meters to miles.\n *\n * @param distance\n */\nexport function metersToMiles(distance: number) {\n  return distance * 0.000621371192;\n}\n\n/**\n * Convert meters to miles.\n *\n * @param distance\n */\nexport function milesToMeters(distance: number) {\n  return distance * 1609.344;\n}\n\n/**\n * Class to represent a Lat/Lng pair\n */\nexport class LatLng {\n  public lat: number;\n  public lng: number;\n\n  public constructor(lat: number, lng: number) {\n    this.lat = lat;\n    this.lng = lng;\n  }\n\n  public toJSON() {\n    return {\n      lat: this.lat,\n      lng: this.lng,\n    };\n  }\n}\n","import { Feature, LineString, lineString } from '@turf/helpers';\nimport { FlyToInterpolator, ViewportProps } from 'react-map-gl';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport { LatLng } from './distance';\nimport bbox from '@turf/bbox';\n\n/**\n * Get the whole crawl path including start and end as a GeoJSON LineString Feature\n *\n * @param coords\n * @param start\n * @param end\n */\nexport function getLineString(\n  coords: number[][],\n  start?: LatLng,\n  end?: LatLng\n): Feature<LineString> {\n  let path: number[][] = [];\n\n  if (start) {\n    path.push([start.lng, start.lat]);\n  }\n\n  coords.forEach((coord) => path.push(coord));\n\n  if (end) {\n    path.push([end.lng, end.lat]);\n  }\n\n  return lineString(path);\n}\n\n/**\n * Fit the map viewport to a GeoJSON LineString Feature bounds\n *\n * @param path\n */\nexport function fitViewportToBounds(\n  path: Feature<LineString>,\n  viewport: Partial<ViewportProps>,\n  padding: number = 70\n): Partial<ViewportProps> {\n  const [minLng, minLat, maxLng, maxLat] = bbox(path);\n  const mercatorViewport = new WebMercatorViewport(viewport);\n  const { longitude, latitude, zoom } = mercatorViewport.fitBounds(\n    [\n      [minLng, minLat],\n      [maxLng, maxLat],\n    ],\n    {\n      padding,\n    }\n  );\n\n  return {\n    ...viewport,\n    longitude,\n    latitude,\n    zoom,\n    transitionInterpolator: new FlyToInterpolator({ speed: 1 }),\n    transitionDuration: 'auto',\n  };\n}\n","import React from 'react';\nimport { Marker } from 'react-map-gl';\nimport { LatLng } from '../lib/distance';\nimport start from '../img/start.png';\nimport finish from '../img/finish.png';\n\nconst LocationMarker: React.FC<{\n  type: string;\n  location: LatLng;\n  setLocationFunction: Function;\n}> = ({ type, location, setLocationFunction }) => {\n  return (\n    <Marker latitude={location.lat} longitude={location.lng} offsetLeft={-15} offsetTop={-31}>\n      <img\n        src={type === 'start' ? start : finish}\n        alt=\"location\"\n        onClick={() => setLocationFunction(undefined)}\n      />\n    </Marker>\n  );\n};\n\nexport default LocationMarker;\n","import React, { useState, useEffect } from 'react';\nimport MapGL, { Popup, ViewportProps } from 'react-map-gl';\nimport polyline from '@mapbox/polyline';\nimport { Feature, LineString } from '@turf/helpers';\nimport { Coordinates } from '@mapbox/mapbox-sdk/lib/classes/mapi-request';\nimport { findPubs } from '../lib/google';\nimport { LatLng } from '../lib/distance';\nimport { getLineString, fitViewportToBounds } from '../lib/geojson';\nimport { getDirections } from '../lib/directions';\nimport CrawlCalculator from '../calculators/CrawlCalculator';\nimport Nav from './Nav';\nimport PubInfo from './PubInfo';\nimport CrawlInfo from './CrawlInfo';\nimport PubMarker from './PubMarker';\nimport LocationMarker from './LocationMarker';\nimport PathLine from './PathLine';\nimport './App.css';\n\nexport interface Pub {\n  id: string;\n  name: string;\n  address: string;\n  location: LatLng;\n}\n\nconst App: React.FC = () => {\n  const [start, setStart] = useState<LatLng>();\n  const [end, setEnd] = useState<LatLng>();\n  const [pubs, setPubs] = useState<Pub[]>([]);\n  const [path, setPath] = useState<Feature<LineString>>();\n  const [selectedPub, setSelectedPub] = useState<Pub>();\n  const [pubLimit, setPubLimit] = useState(10);\n  const [distanceLimit, setDistanceLimit] = useState(10);\n  const [viewport, setViewport] = useState<Partial<ViewportProps>>({\n    latitude: 51.5074,\n    longitude: 0.1278,\n    zoom: 9,\n    // bearing: 0,\n    // pitch: 50\n  });\n\n  /**\n   * Ask user for their location and set the crawl start to that position\n   */\n  const geoLocate = () => {\n    navigator.geolocation.getCurrentPosition((position) => {\n      setStart(new LatLng(position.coords.latitude, position.coords.longitude));\n    });\n  };\n\n  /**\n   * Get markers for all visible pubs\n   */\n  const getPubMarkers = () => {\n    let markers = pubs.map((pub, index) => (\n      <PubMarker key={index} pub={pub} setSelectedPub={setSelectedPub} />\n    ));\n\n    return markers;\n  };\n\n  /**\n   * Get an info window for the selected pub\n   */\n  const getPubInfo = () => {\n    return (\n      selectedPub && (\n        <Popup\n          tipSize={5}\n          anchor=\"top\"\n          longitude={selectedPub.location.lng}\n          latitude={selectedPub.location.lat}\n          closeOnClick={false}\n          onClose={() => setSelectedPub(undefined)}\n        >\n          <PubInfo pub={selectedPub} start={start} />\n        </Popup>\n      )\n    );\n  };\n\n  /**\n   * Called on first load, generate initial path from saved hash or users current location\n   */\n  useEffect(() => {\n    if (window.location.hash) {\n      try {\n        const [savedStart, savedEnd] = JSON.parse(\n          new Buffer(window.location.hash.substring(1), 'base64').toString('ascii')\n        );\n\n        if (savedEnd) {\n          setEnd(new LatLng(savedEnd[0], savedEnd[1]));\n        }\n\n        setStart(new LatLng(savedStart[0], savedStart[1]));\n      } catch (e) {\n        alert('Sorry, could not parse that saved url');\n      }\n    } else {\n      geoLocate();\n    }\n  }, []);\n\n  /**\n   * Called when any crawl parameters are updated, regenerate the path\n   */\n  useEffect(() => {\n    if (start) {\n      findPubs(start).then((pubs) => {\n        const calculator = new CrawlCalculator(pubs as Pub[], start);\n\n        if (end) {\n          calculator.setEnd(end);\n        }\n\n        let limit = pubLimit;\n\n        if (pubLimit > pubs.length) {\n          limit = pubs.length;\n        }\n\n        const crawlPubs = calculator.getCrawlPubs(limit, distanceLimit);\n        setPubs(crawlPubs);\n      });\n    } else {\n      setPubs([]);\n    }\n  }, [start, end, pubLimit, distanceLimit]);\n\n  /**\n   * Generate a crawl path and resize the viewport\n   */\n  useEffect(() => {\n    if (start && pubs.length > 0) {\n      const pubCoords = pubs.map((pub) => [pub.location.lng, pub.location.lat] as Coordinates);\n\n      getDirections(pubCoords)\n        .then((res) => {\n          const path = getLineString(polyline.toGeoJSON(res.geometry).coordinates, start, end);\n          setPath(path);\n          setViewport(fitViewportToBounds(path, viewport));\n        })\n        .catch((err) => {\n          console.error('Could not find directions', err);\n          const path = getLineString(pubCoords, start, end);\n          setPath(path);\n          setViewport(fitViewportToBounds(path, viewport));\n        });\n    } else {\n      setPath(undefined);\n    }\n  }, [pubs, start, end]);\n\n  return (\n    <div className=\"app\">\n      <a\n        className=\"github-fork-ribbon\"\n        href=\"https://github.com/threesquared/sprawl\"\n        data-ribbon=\"Fork me on GitHub\"\n        title=\"Fork me on GitHub\"\n      >\n        Fork me on GitHub\n      </a>\n      <Nav setPubLimit={setPubLimit} setDistanceLimit={setDistanceLimit} geoLocate={geoLocate} />\n      <CrawlInfo pubs={pubs} start={start} end={end} />\n      <MapGL\n        {...viewport}\n        width=\"100%\"\n        height=\"100%\"\n        mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n        onViewportChange={setViewport}\n        onClick={(event: any) => {\n          if (event.leftButton === true && event.target.nodeName !== 'IMG') {\n            setStart(new LatLng(event.lngLat[1], event.lngLat[0]));\n          }\n        }}\n        onContextMenu={(event: any) => {\n          setEnd(new LatLng(event.lngLat[1], event.lngLat[0]));\n          event.preventDefault();\n        }}\n      >\n        {start && <LocationMarker type=\"start\" location={start} setLocationFunction={setStart} />}\n        {getPubMarkers()}\n        {end && <LocationMarker type=\"end\" location={end} setLocationFunction={setEnd} />}\n        {path && <PathLine path={path} />}\n        {getPubInfo()}\n      </MapGL>\n    </div>\n  );\n};\n\nexport default App;\n","import { LatLng } from './distance';\nimport { Loader } from '@googlemaps/js-api-loader';\nimport { Pub } from '../components/App';\n\nconst loader = new Loader({\n  apiKey: process.env.REACT_APP_GOOGLE_API_KEY as string,\n  version: 'weekly',\n  libraries: ['places'],\n});\n\n/**\n * Find pubs and bars in a given area from Google Places\n *\n * @param service\n * @param location\n */\nexport async function findPubs(location: LatLng): Promise<Pub[]> {\n  const google = await loader.load();\n\n  const places = google.maps.places;\n  const service = new places.PlacesService(document.createElement('div'));\n\n  const request = {\n    query: 'pub',\n    openNow: true,\n    location,\n    radius: 20000,\n    type: 'bar',\n    key: process.env.REACT_APP_GOOGLE_API_KEY as string,\n  };\n\n  return new Promise((resolve, reject) => {\n    service.textSearch(request, (results, status) => {\n      if (status === google.maps.places.PlacesServiceStatus.OK && results) {\n        resolve(\n          results.map((result) => {\n            return {\n              id: result.place_id as string,\n              name: result.name as string,\n              address: result.formatted_address as string,\n              location: new LatLng(\n                result!.geometry!.location!.lat(),\n                result!.geometry!.location!.lng()\n              ),\n            };\n          })\n        );\n      } else {\n        reject(status);\n      }\n    });\n  });\n}\n","import { Coordinates } from '@mapbox/mapbox-sdk/lib/classes/mapi-request';\nimport directions from '@mapbox/mapbox-sdk/services/directions';\n\nconst directionsService = directions({ accessToken: process.env.REACT_APP_MAPBOX_TOKEN as string });\n\n/**\n * Get walking directions to an array of waypoint coordinates.\n *\n * @param coords\n */\nexport async function getDirections(\n  coordinates: Coordinates[]\n): Promise<{ geometry: string; distance: number }> {\n  return new Promise((resolve, reject) => {\n    directionsService\n      .getDirections({\n        profile: 'walking',\n        waypoints: coordinates.map((coordinate) => ({\n          coordinates: coordinate,\n        })),\n      })\n      .send()\n      .then((response) => {\n        resolve({\n          geometry: response.body.routes[0].geometry,\n          distance: response.body.routes[0].distance,\n        });\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n}\n","import _ from 'lodash';\nimport { computeDistanceBetween } from 'spherical-geometry-js';\nimport { Pub } from '../components/App';\nimport { milesToMeters, LatLng } from '../lib/distance';\n\nexport default class CrawlCalculator {\n  /**\n   * List of all pubs\n   */\n  public pubs: Pub[];\n\n  /**\n   * List of pubs on this crawl\n   */\n  public crawl: Pub[] = [];\n\n  /**\n   * Start location\n   */\n  public start: LatLng;\n\n  /**\n   * Optional end location\n   */\n  public end?: LatLng;\n\n  /**\n   * Create a new pub crawl calculator.\n   *\n   * @param pubs\n   * @param start\n   */\n  public constructor(pubs: Pub[], start: LatLng) {\n    this.pubs = pubs;\n    this.start = start;\n  }\n\n  /**\n   * Set an optional end location.\n   *\n   * @param end\n   */\n  public setEnd(end: LatLng) {\n    this.end = end;\n  }\n\n  /**\n   * Generate a list of pubs for this crawl.\n   *\n   * @param pubLimit\n   * @param distanceLimit\n   */\n  public getCrawlPubs(pubLimit: number, distanceLimit: number) {\n    if (this.end) {\n      return this.budgetShortestPathFirstMethod(pubLimit, distanceLimit);\n    }\n\n    return this.nearestPubNextMethod(pubLimit, distanceLimit);\n  }\n\n  /**\n   * Create a pub crawl route based on finding the next nearest pub.\n   *\n   * @param start\n   * @param allPubs\n   * @param pubLimit\n   * @param distanceLimit\n   */\n  private nearestPubNextMethod(pubLimit: number, distanceLimit: number) {\n    let nextPub = this.shiftClosestPub(this.start, this.pubs);\n\n    for (let i = 0; i < pubLimit; i++) {\n      this.crawl.push(nextPub);\n\n      nextPub = this.shiftClosestPub(\n        new LatLng(nextPub.location.lat, nextPub.location.lng),\n        this.pubs\n      );\n\n      if (\n        computeDistanceBetween(this.start, new LatLng(nextPub.location.lat, nextPub.location.lng)) >\n        milesToMeters(distanceLimit)\n      ) {\n        break;\n      }\n    }\n\n    return this.crawl;\n  }\n\n  /**\n   * Create a pub crawl route based on finding the next nearest pub that is also closest to the end point.\n   *\n   * @param start\n   * @param allPubs\n   * @param pubLimit\n   * @param distanceLimit\n   */\n  private budgetShortestPathFirstMethod(pubLimit: number, distanceLimit: number) {\n    if (!this.end) {\n      return [];\n    }\n\n    const startPub = this.shiftClosestPub(this.start, this.pubs);\n    this.crawl.push(startPub);\n\n    const endPub = this.getClosestPub(this.end, this.pubs);\n\n    let testPubs = this.getClosestPubs(this.start, this.pubs, 5);\n    let nextPub = this.shiftClosestPub(this.end, testPubs);\n    _.remove(this.pubs, (pub) => pub.id === nextPub.id);\n\n    while (nextPub.id !== endPub.id) {\n      this.crawl.push(nextPub);\n\n      testPubs = this.getClosestPubs(\n        new LatLng(nextPub.location.lat, nextPub.location.lng),\n        this.pubs,\n        15\n      );\n      nextPub = this.shiftClosestPub(this.end, testPubs);\n\n      _.remove(this.pubs, (pub) => pub.id === nextPub.id);\n    }\n\n    this.crawl.push(endPub);\n\n    return this.crawl;\n  }\n\n  /**\n   * Given a LatLon sort Pubs by distance to it.\n   *\n   * @param start\n   * @param pubs\n   */\n  private sortPubsByDistanceTo(start: LatLng, pubs: Pub[]): void {\n    pubs.sort((a, b) => {\n      const distanceToNextA = computeDistanceBetween(\n        start,\n        new LatLng(Number(a.location.lat), Number(a.location.lng))\n      );\n      const distanceToNextB = computeDistanceBetween(\n        start,\n        new LatLng(Number(b.location.lat), Number(b.location.lng))\n      );\n\n      return distanceToNextA - distanceToNextB;\n    });\n  }\n\n  /**\n   * Given a LatLon find the closest pub and remove it from the given list of Pubs.\n   *\n   * @param start\n   * @param pubs\n   */\n  private shiftClosestPub(start: LatLng, pubs: Pub[]): Pub {\n    this.sortPubsByDistanceTo(start, pubs);\n\n    return pubs.shift() as Pub;\n  }\n\n  /**\n   * Given a LatLon find the closest pub from the given list of Pubs.\n   *\n   * @param start\n   * @param pubs\n   */\n  private getClosestPub(start: LatLng, pubs: Pub[]): Pub {\n    this.sortPubsByDistanceTo(start, pubs);\n\n    return pubs[0];\n  }\n\n  /**\n   * Given a LatLon find the closest pub and remove it from the given list of Pubs.\n   *\n   * @param start\n   * @param pubs\n   */\n  private getClosestPubs(start: LatLng, pubs: Pub[], limit: number = 10): Pub[] {\n    this.sortPubsByDistanceTo(start, pubs);\n\n    return pubs.slice(0, limit);\n  }\n}\n","import React from 'react';\nimport './Nav.css';\n\nconst Nav: React.FC<{ setPubLimit: Function; setDistanceLimit: Function; geoLocate: Function }> = ({\n  setPubLimit,\n  setDistanceLimit,\n  geoLocate,\n}) => {\n  return (\n    <div className=\"nav\">\n      <h3>Pub Crawl Generator</h3>\n      <form>\n        <span>\n          I want to visit up to\n          <input\n            type=\"number\"\n            placeholder=\"10\"\n            onChange={(event) => setPubLimit(parseInt(event.target.value) || 10)}\n            name=\"pubLimit\"\n          />\n          pubs <br /> and end up at most\n          <input\n            type=\"number\"\n            placeholder=\"10\"\n            onChange={(event) => setDistanceLimit(parseInt(event.target.value) || 10)}\n            name=\"distanceLimit\"\n          />{' '}\n          miles away\n          <br />\n          <button type=\"button\" onClick={() => geoLocate()}>\n            Set start to my current location\n          </button>\n          <br />\n          <br />\n          <small>\n            * Left click on the map to set a start location\n            <br />* Right click to set an optional end location\n          </small>\n        </span>\n      </form>\n    </div>\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport { LatLng } from '../lib/distance';\nimport { Pub } from './App';\n\nconst PubInfo: React.FC<{ pub?: Pub; start?: LatLng }> = ({ pub, start }) => {\n  if (!pub) {\n    return null;\n  }\n\n  return (\n    <div>\n      <h3>{pub.name}</h3>\n      <small>\n        {pub.address}\n        <br />\n      </small>\n      <p>\n        <a\n          href={`https://www.google.com/maps/dir/?api=1&origin=${start?.lat},${start?.lng}&destination=${pub.location.lat},${pub.location.lng}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Directions\n        </a>\n      </p>\n    </div>\n  );\n};\n\nexport default PubInfo;\n","import React from 'react';\nimport { metersToMiles, LatLng } from '../lib/distance';\nimport { Pub } from './App';\nimport './CrawlInfo.css';\n\nconst CrawlInfo: React.FC<{ pubs: Pub[]; start?: LatLng; end?: LatLng }> = ({\n  pubs,\n  start,\n  end,\n}) => {\n  if (pubs.length === 0 || !start) {\n    return null;\n  }\n\n  const totalDistance = 99;\n  const dest = pubs[pubs.length - 1];\n  const waypoints = pubs.map((pub) => `${pub.location.lat},${pub.location.lng}`).join('|');\n\n  const saveObject = [\n    [+start.lat.toFixed(4), +start.lng.toFixed(4)],\n    end ? [+end.lat.toFixed(4), +end.lng.toFixed(4)] : null,\n  ];\n\n  const saveData = new Buffer(JSON.stringify(saveObject)).toString('base64');\n\n  return (\n    <div className=\"crawlInfo\">\n      <small>\n        Your crawl visits {pubs.length} pubs and is approximately{' '}\n        {metersToMiles(totalDistance).toFixed(1)} miles long\n      </small>\n      <br />\n      <small>\n        {pubs.length <= 10 && (\n          <a\n            href={`https://www.google.com/maps/dir/?api=1&travelmode=walking&dir_action=navigate&destination=${dest.location.lat},${dest.location.lng}&waypoints=${waypoints}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Get directions\n          </a>\n        )}\n      </small>{' '}\n      |{' '}\n      <small>\n        <a href={`#${saveData}`} target=\"_blank\" rel=\"noopener noreferrer\">\n          Link to this crawl\n        </a>\n      </small>\n    </div>\n  );\n};\n\nexport default CrawlInfo;\n","import React from 'react';\nimport { Marker } from 'react-map-gl';\nimport { Pub } from './App';\nimport pin from '../img/beer.png';\n\nconst PubMarker: React.FC<{ pub: Pub; setSelectedPub: Function }> = ({ pub, setSelectedPub }) => {\n  return (\n    <Marker\n      key={pub.id}\n      latitude={pub.location.lat}\n      longitude={pub.location.lng}\n      offsetLeft={-16}\n      offsetTop={-32}\n    >\n      <img\n        src={pin}\n        alt={pub.name}\n        onClick={() => {\n          setSelectedPub(pub);\n        }}\n      />\n      ;\n    </Marker>\n  );\n};\n\nexport default PubMarker;\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANYSURBVFiF7ZdPaFxFHMc/897ue2/37Z9sk9YmIaaEVmM1BlRs68HGS5FCi/QkQgu2h9KL0IuIZw9evHgo0hKxBysI2otWEPx3kKVtsGEtbmFbk+w2m8R0u9nsv7fvvXnjIVlQ6C4qrKf9wjDzm5kf389vhjkMAOnM/fPpzHJ+bq4YpcdSSmnpzHI2/WvxPQBta1pMAWOBqQZ7DfDj4qIBTBKoaQDRPHNm3HNac5plSTMSvew36xcis7NLvTBX586lnJrzvivdN8zU0O+mbB0NKcc76DebQ5auIXT9bLO88Xbz1KmqlUj8glJ5oIAQq0AZKcvo+gZSOgBo2lYfBBYAum4h5QC6ngJSKLUbGAPGgb3AiAzcsnScWFi2nkXX94ceSaqIo9Thv05sG26NNe3vCe24vdbe/w/0SIC2ZDxB7dAMoIjeuok3PILWchGuQ3hlGXQdJQR6rYpMJJHxJCiFsVak8fQ0gZ1AxhNYuSzmQu7fA1RnXiUwTYz8AnJoF+7YBPXnDmAWFon/9C2VI8dACHZ99AGVI8fxHhsBwMgvInwX58lnsHJZ9M2Njh5axxUgXCzg7J1E+B5WNsPAtS9ACHZ8/gmhcokgGiOI2MhkCuH72LeuE//5e2RqBwPfXCW8ep/wSoFQab2jR9cTiM7fQGvUKb/2OuE/Vgmvr4EQiJZDY/oFzKV7ADhP7Ed4LrWDh5GxOIOfzQKg12oEsUQ3i84AKhRm7a13iWbmEFKCUgSmifA9hJQ0J6cIojZoGoFpESqtE52/gZ8axNn3FFYui1bbRNqxrgAdr0D4HoOfXkKr10ldvYKxnEd4HpHb81unIH12zn7I0OULKF0n9GANvbpJ8rtrKMMEwMplse7e6Qog6idPHm3VG19bto0RsYrV0sNhMxoVkUS8a+J/1MN6pdJyG83h5M4hNMN4WQDcu3TlSz+eeCluuK+MnDiRdU6fnjBtexSlxlFqDNgNpLZbAiFsAJQKb5UhvO24DmwC5e22ihAFhFii1borLl5cWTv/zkTl+QNpDOvmvt+uHxcA6czyx8CbuuDxF6dGC70ova0fFhYsq2o0UXx1aHr0WNdn+H+oD9AH6AP0AfoAfYA+QB+g/ae6DRS0lij12nBmzx4XuIOmMgB/AqrGViCg7STMAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANzSURBVFiF7ZY9bFtVFMd/573nZ/v5xalbR3ESJyFBRGFoAEFBSKUSDHyJpUKIiZYtQyeExNwNsTEwFAFLxYA6MCEqGKAqqqwWUMlH+YhFSJPYbpwQf8fvw+9dhqStKsWVKjVM/i/3XN17z/np3P+VLgC5ucLZ3HzhrwsXlM4B69t8PpqbK6zk5gsfAGgACDPA1PDMlnXQAGmvP4UwDuoogDRPnZoJguBHPW65cUP/1N3Z+dw6f75wEMXVmTNH2s3WJ77vv2EeSf8ZM7RXDE2pl7y2c9g0DEIx33earbPO6dOVqG3/hsgaSq2i1AZQQaSCUlWUcgEwjDa+ryESBUAkDqQQObQ3DhGGWWAckSlgMPC8euC6djTwnyHgUWNfUpEU8CJKsZf47qLI3XkYgn4f2yh179l9tC/Abf3zwqsoEcxWg9RKHlEhuu+jew665+FbCXTfQ4lgeC7NgSFC3cAuF6mOTnJ4ZYnNqaPEK1vYm6UHA1CiUX78SSZ++o4gEmF7chrfStCJWQQRk+wvl1k+8ToD+UVcux8t8KlnRom4bUZ+vcLSy2/y3GcfUR8ex7fsrgBaNwDfSqAQfCtBOn8DpesYrkNoGNRGHqE2MoEWBChACTjJFJGdFmO5H+jbWEeUYv3YCdqpNL6V6NrlrgCuncTcaRKtVxEV0onGdgE0g8RmidLMs0gYIHv3PHH5IobvsnjyXarZSSI7TbSgg10u4ll9Dw7gJfqI1bZJ5xcxnDYdM4butgl1neG5q2hBB63j7xoNoZHJMjR3lUPryzQyWcx2i8TWLZLF1ft2oKsH+gsrxGvbd+bJW2vYG0XaqQHi1S1Gr12ilc4QbdZQuk4nFufvp49jthoM/nEds1XHbNQxW3UMt90dQCnV3A0FRJoCNiCG62C4zp2NmYWfAUhc+R4A698yMHdPssHfr+8bJ4s3b4dbCLtvWynQdUcUaMtffHXRs/ueSBfXnxp4b7bkzM4+FtW0YTRtDJExlBpEqRSaliIMk2iatZfEBEJEOnsFmihVQ6RKGFYQKSGyRhiuEoZLcu5cufThx8cao+PfhNHYpem3XntbAHLzha+Bk4FpJo9PDzS69ush6NqNciYI/BKoL5+fyb7T1YT/l3oAPYAeQA+gB9AD6AH0ADQAgQWEvF9Kd/89PiS1rFYVxU2QBYD/ALj+dJTTcovGAAAAAElFTkSuQmCC\"","import React from 'react';\nimport { Source, Layer } from 'react-map-gl';\nimport { Feature, LineString } from '@turf/helpers';\n\nconst PathLine: React.FC<{ path: Feature<LineString> }> = ({ path }) => {\n  return (\n    <Source id=\"pathData\" type=\"geojson\" data={path}>\n      <Layer\n        id=\"path\"\n        type=\"line\"\n        source=\"pathData\"\n        layout={{\n          'line-join': 'round',\n          'line-cap': 'round',\n        }}\n        paint={{\n          'line-color': '#0261c8',\n          'line-width': 2,\n        }}\n      />\n    </Source>\n  );\n};\n\nexport default PathLine;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}